\hypertarget{payload_8h_source}{}\doxysection{payload.\+h}
\label{payload_8h_source}\index{payload.h@{payload.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001 \textcolor{preprocessor}{\#ifndef \_CANOPEN\_PAYLOAD\_H\_}}
\DoxyCodeLine{00002 \textcolor{preprocessor}{\#define \_CANOPEN\_PAYLOAD\_H\_}}
\DoxyCodeLine{00003 }
\DoxyCodeLine{00011 \textcolor{preprocessor}{\#include <cstdint>}}
\DoxyCodeLine{00012 \textcolor{preprocessor}{\#include <sstream>}}
\DoxyCodeLine{00013 \textcolor{preprocessor}{\#include <stdexcept>}}
\DoxyCodeLine{00014 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{00015 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{00016 }
\DoxyCodeLine{00017 }
\DoxyCodeLine{00018 \textcolor{keyword}{namespace }CANopen \{}
\DoxyCodeLine{\Hypertarget{payload_8h_source_l00022}\mbox{\hyperlink{class_c_a_nopen_1_1_payload}{00022}} \textcolor{keyword}{class }\mbox{\hyperlink{class_c_a_nopen_1_1_payload}{Payload}} : \textcolor{keyword}{public} std::vector<uint8\_t> \{}
\DoxyCodeLine{00023     \textcolor{keyword}{public}:}
\DoxyCodeLine{00024     \mbox{\hyperlink{class_c_a_nopen_1_1_payload}{Payload}}() = \textcolor{keywordflow}{default};}
\DoxyCodeLine{00025     \mbox{\hyperlink{class_c_a_nopen_1_1_payload}{Payload}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_c_a_nopen_1_1_payload}{Payload}} \&) = \textcolor{keywordflow}{default};}
\DoxyCodeLine{00026     \mbox{\hyperlink{class_c_a_nopen_1_1_payload}{Payload}}(\textcolor{keyword}{const} std::vector<uint8\_t> \&other);}
\DoxyCodeLine{00027 }
\DoxyCodeLine{00028     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{\Hypertarget{payload_8h_source_l00033}\mbox{\hyperlink{class_c_a_nopen_1_1_payload_a769f01631bd710d3b37f07cc2753b889}{00033}}     \mbox{\hyperlink{class_c_a_nopen_1_1_payload_a769f01631bd710d3b37f07cc2753b889}{Payload}}(T \mbox{\hyperlink{class_c_a_nopen_1_1_payload_aef05ef8cfc8b9ba4170891f3168a726b}{value}}) \{}
\DoxyCodeLine{00034         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < \textcolor{keyword}{sizeof}(T); i++)}
\DoxyCodeLine{00035             push\_back(*((uint8\_t *)(\&\mbox{\hyperlink{class_c_a_nopen_1_1_payload_aef05ef8cfc8b9ba4170891f3168a726b}{value}}) + i));}
\DoxyCodeLine{00036     \}}
\DoxyCodeLine{00037 }
\DoxyCodeLine{00038     \mbox{\hyperlink{class_c_a_nopen_1_1_payload}{Payload}} \&}
\DoxyCodeLine{00039     operator=(\textcolor{keyword}{const} \mbox{\hyperlink{class_c_a_nopen_1_1_payload}{Payload}} \&) = \textcolor{keywordflow}{default};}
\DoxyCodeLine{00040 }
\DoxyCodeLine{00041     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{00047     T \&}
\DoxyCodeLine{\Hypertarget{payload_8h_source_l00048}\mbox{\hyperlink{class_c_a_nopen_1_1_payload_aef05ef8cfc8b9ba4170891f3168a726b}{00048}}     \mbox{\hyperlink{class_c_a_nopen_1_1_payload_aef05ef8cfc8b9ba4170891f3168a726b}{value}}(\textcolor{keywordtype}{unsigned} begin = 0) \{}
\DoxyCodeLine{00049         \textcolor{keywordflow}{if}(empty())}
\DoxyCodeLine{00050             \textcolor{keywordflow}{throw} std::runtime\_error(std::string(\textcolor{stringliteral}{"Empty payload."}));}
\DoxyCodeLine{00051         \textcolor{keywordflow}{return} *(T *)(data() + begin);}
\DoxyCodeLine{00052     \};}
\DoxyCodeLine{00053 }
\DoxyCodeLine{00054 }
\DoxyCodeLine{00055     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{00061     \mbox{\hyperlink{class_c_a_nopen_1_1_payload}{Payload}} \&}
\DoxyCodeLine{\Hypertarget{payload_8h_source_l00062}\mbox{\hyperlink{class_c_a_nopen_1_1_payload_aeb41b12a7903cb5dee4d2f5ccd1d3f15}{00062}}     \mbox{\hyperlink{class_c_a_nopen_1_1_payload_aeb41b12a7903cb5dee4d2f5ccd1d3f15}{operator<<}}(T \&\&\mbox{\hyperlink{class_c_a_nopen_1_1_payload_aef05ef8cfc8b9ba4170891f3168a726b}{value}}) \{}
\DoxyCodeLine{00063         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < \textcolor{keyword}{sizeof}(T); i++)}
\DoxyCodeLine{00064             push\_back(*((uint8\_t *)(\&\mbox{\hyperlink{class_c_a_nopen_1_1_payload_aef05ef8cfc8b9ba4170891f3168a726b}{value}}) + i));}
\DoxyCodeLine{00065         \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{00066     \};}
\DoxyCodeLine{00067     }
\DoxyCodeLine{00073     \mbox{\hyperlink{class_c_a_nopen_1_1_payload}{Payload}} \&}
\DoxyCodeLine{\Hypertarget{payload_8h_source_l00074}\mbox{\hyperlink{class_c_a_nopen_1_1_payload_ae8e5f1160cc9d6578a315a455d305469}{00074}}     \mbox{\hyperlink{class_c_a_nopen_1_1_payload_aeb41b12a7903cb5dee4d2f5ccd1d3f15}{operator<<}}(\mbox{\hyperlink{class_c_a_nopen_1_1_payload}{Payload}} \&\&p) \{}
\DoxyCodeLine{00075         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < p.size(); i++)}
\DoxyCodeLine{00076             push\_back(*((uint8\_t *)(\&p[i])));}
\DoxyCodeLine{00077         \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{00078     \};}
\DoxyCodeLine{00079     }
\DoxyCodeLine{00086     \mbox{\hyperlink{class_c_a_nopen_1_1_payload}{Payload}} \&}
\DoxyCodeLine{\Hypertarget{payload_8h_source_l00087}\mbox{\hyperlink{class_c_a_nopen_1_1_payload_a4d25baad973a414a3b160f366bb92153}{00087}}     \mbox{\hyperlink{class_c_a_nopen_1_1_payload_a4d25baad973a414a3b160f366bb92153}{store\_at}}(\mbox{\hyperlink{class_c_a_nopen_1_1_payload}{Payload}} \&\&p, \textcolor{keywordtype}{int} slot) \{}
\DoxyCodeLine{00088         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = this-\/>size(); i < slot ; i++)}
\DoxyCodeLine{00089             this-\/>push\_back(0);}
\DoxyCodeLine{00090         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = slot; i < slot + p.size(); i++)}
\DoxyCodeLine{00091         \{}
\DoxyCodeLine{00092             \textcolor{keywordflow}{if}(i < this-\/>size())}
\DoxyCodeLine{00093                 (*this)[i]=*((uint8\_t *)(\&p[i]));}
\DoxyCodeLine{00094             \textcolor{keywordflow}{else}}
\DoxyCodeLine{00095                     this-\/>push\_back(*((uint8\_t *)(\&p[i-\/slot])));}
\DoxyCodeLine{00096          \}}
\DoxyCodeLine{00097         \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{00098     \};}
\DoxyCodeLine{00099 }
\DoxyCodeLine{00100     \textcolor{keyword}{operator} std::string() \textcolor{keyword}{const};}
\DoxyCodeLine{00101 \};}
\DoxyCodeLine{00102 \} \textcolor{comment}{// namespace CANopen}}
\DoxyCodeLine{00103 }
\DoxyCodeLine{00104 std::ostream \&}
\DoxyCodeLine{00105 operator<<(std::ostream \&out, \textcolor{keyword}{const} \mbox{\hyperlink{class_c_a_nopen_1_1_payload}{CANopen::Payload}} \&p);}
\DoxyCodeLine{00106 }
\DoxyCodeLine{00107 \textcolor{preprocessor}{\#endif // \_CANOPEN\_PAYLOAD\_H\_}}

\end{DoxyCode}
